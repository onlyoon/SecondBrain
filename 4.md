# 7장
### ToyCOM 구조
- 기억용량
	-  64kb
- PC
	- 16bit
- 명령어 길이
	- 16bit
- 기억장소 갯수
	- 8개
- IR 레지스터
	- 16비트
- ToyCOM 명령어 형식에서 사용하는 주소지정 방식
	- 즉치 주소지정방식
	- 레지스터 간접 주소지정방식
	- 레지스터 주소지정방식
	- 상대 주소지정방식
- ToyCOM 명령어 집합에서 명령어 코드가 0000h인 명령어는 무엇인가?
	- NOP
- ToyCOM 명령어 사이클 중 인출 단계에서 PC값은 어떻게 변하는가?
	- 2씩 증가
- ==ToyCOM 명령어의 개수는?==
	- 46개





- ==명령어 길이 IR 레지스터 길이, 메모리 영역==
- 명령어 갯수
- 명령어 형식 레지스터 이름 명령어
- 다항연산처리 형식
- 주소지정방식
- 명령어 종류 ==46개== 형식으로 나눔
- 명령어 opcode, 각 형식에 맞게끔 설계
- 44개에 대한 opcode
- 명령어에 따른 동작
- 명령어 사이클, 인출 실행, 인터럽트
- 마이크로 오퍼레이션, 인출에 며몇단계로 나눌껀가
- 마이크로 오퍼레이션 인출 단계 사이클
- 실행단계 각각 동작에 대해서 거시기 한다.
- 인터럽트 단계가 들어오면,? push push
- 제어기


## 
![](Pasted%20image%2020231212195520.png)


## 
![](Pasted%20image%2020231212195531.png)


## 
![](Pasted%20image%2020231212195601.png)

## 
![](Pasted%20image%2020231212195617.png)

## 
![](Pasted%20image%2020231212195718.png)

## 
![](Pasted%20image%2020231212195740.png)
- 인출 단계에서 몇 단계로 동작을 정의할 것인가.
	- 6단계

## 
![](Pasted%20image%2020231212195820.png)

## 
![](Pasted%20image%2020231212195933.png)

## 
![](Pasted%20image%2020231212195952.png)
PUSH PC
PUSH SR
PC <- 2xn
- 정지 단계에서 몇 단계로 동작을 정의할 것인가.
	- 12단계

## 
![](Pasted%20image%2020231212200055.png)
- 마이크로 오퍼레이션 단계에서 제어기가 제어신호를 준다.



# 8장

## 
- 클럭으로 타이밍 신호를 생성한다.
- 명령어 레지스터에는 명령어가 있다. 

- ~~순서제어~~
	- 명령어 사이클을 진행시킨다.
- ~~동작제어~~
	- 명령어 사이클의 각 단계에서 실행해야 할 제어신호를 생성한다.

## 
![](Pasted%20image%2020231212220701.png)
- ~~순차 논리회로~~
	- 기억장치로 구현한 6진 카운터 회로
	- 구성요소
		- 기억장치 (상태표)
		- 레지스터 (CAR, CBR)
			- CAR(제어주소 레지스터)
			- CBR(제어버퍼 레지스터)
		- 피드백 경로


- ~~하드와이어드 제어장치~~
	- 타이밍 신호 발생기
		- 명령어 사이클의 단계를 구분하는 제어신호와 단계에 따른 클럭에 따라 타이밍 신호를 생성한다.
		- 2비트 명령어 사이클 코드 ICC를 생성하고 각 단계에서 클럭 진행을 표현하는 4비트 시퀀스 카운트 SCNT를 생성한다.
	- 디코더
		- 현재 처리하고 있는 명령어가 어떤 것인지 구별한다.
		- 명령어에 포함된 필드(Rd, Rs1, Rs2)를 제공한다.
	- 제어신호 발생기
		- 분기 명령어를 위해서 조건 코드를 제공한다.
		- 연산 결과를 반영한 상태 플래그를 제어장치로 공급한다.

## 
![](Pasted%20image%2020231212220923.png)

## 
![](Pasted%20image%2020231212220938.png)


- ~~수평적 마이크로프로그래밍~~
	- 제어 신호가 많아서 제어 메모리 용량이 증가
	- ![](Pasted%20image%2020231213092740.png)
- ~~수직적 마이크로프로그래밍~~
	- 제어 메모리 용량 개선을 위해 디코더 사용하고 메모리 용량이 감소
	- ![](Pasted%20image%2020231213092752.png)

- ~~마이크로 프로그램 제어장치~~
	- 제어 기억장치
		- 제어 단어: 한 개의 주소에 저장되어 있는 제어신호
		- 제어 신호 필드: 다음 주소 선택 필드
	- 제어주소 레지스터: 제어 기억장치의 주소 공급
	- 제어버퍼 레지스터: 제어신호 필드를 동기화하여 실행부로 제어 신호 전달
	- 순서 제어기: 제어주소 레지스터로 적재할 다음 주소 결정 {명령어 레지스터, 상태 레지스터, 제어 단어 주소중 하나}

주소 제어는 제어 단어와 순서 제어기가 한다.


- 제어장치의 역할 ㅇㅇ
- 제어신호 정의
- 클럭 동기적 실행 t1 t2 t3 단계
- 순차 논리회로 설계
- 하드와이어드 제어장치 메모리 상ㅇ해서 일부 제어기 구현
- 명령어 디코더, 어떤 명령어인지 확인 제어신호도 확인
- 하드와이어드 제어장치 구조
- 마이크로 프로그램 제어장치 - 수평적, 수직적 마이크로 프로그래밍 이거 설명해야 할 듯
- 마이크로 프로그램 제어장치 구조
- 주소 제어기가 필요하다. 

# 9장


## 
![](Pasted%20image%2020231212222221.png)
- ~~메모리 성능 척도~~
	- 메모리 액세스 시간
		- 제어신호를 제공한 이후, 데이터가 읽혀지거나 쓰여지기 시작할 때까지의 시간
	- 메모리 사이클 시간
		- 기억장치를 연속적으로 엑세스할 때, 소요되는 시간 (메모리 엑세스 시간 + 여유시간)
	- 데이터 대역폭
		- 단위 시간당 데이터 전송량
		- 메모리 접근시간 50sec, 데이터버스 64bit, 데이터 전송률 1/(50 * 10^-9sec) * 64bit = 128 * 10^7 bit/sec = 1.28Gbit/sec



## 


## finished
![](Pasted%20image%2020231213004312.png)
- 적중률 = (적중 수) / (주소 수)
- 캐시 접근은 2클럭 사이클이 소요되며, 캐시 미스시, 12개의 클럭 사이클이 요구된다. 만일 평균 메모리 접근 사이클이 3클럭 사이클일 경우 cache hit는? 
	- 90%

- 캐시 기억장치 구조 용어
	- 단어: 중앙처리장치의 전송 단위
	- 블록: 주기억장치의 전송 단위
	- 라인 && 슬롯: 캐시기억장치의 전송 단위
- 블록.length === 라인.length

- ~~매핑 함수 설명~~
	- 직접 매핑
		- 주기억장치 블록이 들어가는 캐시 라인이 하나인 함수
	- 완전 연관 매핑
		- 주기억장치 블록이 임의의 캐시 라인에 들어가는 것을 허용하는 함수
	- 집합 연관 매핑
		- 직접 매핑과 완전 연관 매핑의 장단점을 절충한 방식
## 
![](Pasted%20image%2020231213004539.png)

## 
![](Pasted%20image%2020231213004606.png)

## 
![](Pasted%20image%2020231213004626.png)
- 이거 다 설명하던데, 나도 잘 알아야 할 듯







## 
![](Pasted%20image%2020231213005051.png)

## 
![](Pasted%20image%2020231213005131.png)
- 자세한 설명

- 메모리 확장, 주소 10개 2^10 * 8바이트 1mb 
- ~~비트 폭 확장~~
- 기억장치 용량 확장 4배 
- ~~캐시기억장치 알아야 한다.~~
- ~~참조 지역성 캐시 메모리 성능이 좋아진다.~~
- ~~도악 캐시의 히트와 미스를 알아야 한다.~~
- 적중률 hit ratio
- ~~캐시 메모리 용어 main memory block slock ~~
- ~~매핑방법 직접, 완전, 접합~~
- 직접매핑 구현과정을 알아야 한다.
- ~~캐시 데이터 교체 필요~~
- ~~쓰기 정책 write-through, write-back~~
- ~~멀티 프로세서 시ㅡ템 환경~~
- ~~가상주소, 물리적 주소 <- 가상주소가 무물리 주소보다 크다,~~
- 페이지 테이블
- ~~변환우선참조 버퍼~~

# 10장

## 
![](Pasted%20image%2020231213005419.png)





![](Pasted%20image%2020231213005658.png)
- 예제


## 
![](Pasted%20image%2020231213005917.png)










- 입출력 메모리에 저장 해놓고 사용한다
- ~~메모리사상 I/O(Memory-mapped) I/O~~
- 예제 10-1
- 명령어 실행 사이클
- ~~입출력 방법, 프로그램 구동 입출력, 인터럽트 구동 입출력, 직접 메모리 접근 ~~
- ~~다중 인터럽트 처리 방법 <- 기본적 개념만~~
- CDN 버스, 기타 등등


